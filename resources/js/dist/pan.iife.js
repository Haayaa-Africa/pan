(function(){"use strict";function f(t){new MutationObserver(t).observe(document.body,{childList:!0,subtree:!0})}(function(){let t=[],u=null,o=[];const s=function(){if(t.length===0)return;const e=t.slice();t=[],navigator.sendBeacon("/pan/events",new Blob([JSON.stringify({events:e,_token:_PAN_CSRF_TOKEN})],{type:"application/json"}))},c=function(){u&&clearTimeout(u),u=setTimeout(s,1e3)},a=function(e,i){const d=e.target.closest("[data-pan]");if(d!==null){const l=d.getAttribute("data-pan");if(l===null)return;t.push({type:i,blueprint:l}),c()}},r=function(){document.querySelectorAll("[data-pan]").forEach(i=>{const n=i.getAttribute("data-pan");if(n!==null&&i.getBoundingClientRect().top<window.innerHeight){if(o.includes(n))return;o.push(n),t.push({type:"impression",blueprint:n})}}),c()};document.addEventListener("DOMContentLoaded",function(){f(function(){r(),o.forEach(e=>{document.querySelector(`[data-pan="${e}"]`)===null&&(o=o.filter(n=>n!==e))})}),r(),document.addEventListener("click",function(e){a(e,"click")}),document.addEventListener("mouseover",function(e){a(e,"hover")}),document.addEventListener("scroll",function(e){r()}),document.addEventListener("inertia:start",e=>{o=[]}),document.addEventListener("inertia:finish",e=>{}),window.addEventListener("beforeunload",function(e){t.length!==0&&(e.preventDefault(),e.returnValue="",s())})})})()})();
